<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Map vs Signs — Berger & Conversation</title>
  <script src="https://unpkg.com/scrollama"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Georgia, serif;
      background: #fdfcf9;
      color: #111;
      line-height: 1.75;
    }

    /* Intro overlay */
    #intro {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
      background: #fdfcf9;
      z-index: 10;
      transition: opacity 500ms ease;
    }
    #intro p {
      font-size: 1.5rem;
      max-width: 600px;
      margin: 0 0 1rem 0;
    }
    .scroll-cue {
      margin-top: 1.5rem;
      font-size: 0.95rem;
      opacity: 0.7;
      user-select: none;
    }
    .hidden {
      opacity: 0;
      pointer-events: none;
      /* after fade we’ll also set display:none in JS */
    }

    /* Main content is present from the start so the page can scroll */
    #scrolly {
      max-width: 1000px;
      margin: 0 auto;
      padding: 6rem 1rem 4rem;
    }

    .step {
      display: block;
      margin-bottom: 60vh;
      opacity: 0.5;
      transition: opacity 0.5s ease;
    }
    .step.is-active {
      opacity: 1;
    }

    .dispatch-row {
      display: flex;
      flex-wrap: wrap;
      gap: 4rem;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 6rem;
    }

    .dispatch-text {
      flex: 1 1 45%;
      font-size: 1.1rem;
    }
    .dispatch-text p { margin-bottom: 1.2em; }

    .map-container {
      flex: 1 1 45%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .map-container img {
      max-width: 100%;
      height: auto;
      opacity: 0.9;
    }

    .dispatch-number {
      font-style: italic;
      margin-bottom: 1rem;
      font-size: 1rem;
      color: #666;
    }

    .fullwidth {
      max-width: 700px;
      margin: 0 auto;
      font-size: 1.1rem;
    }
    .fullwidth p { margin-bottom: 1.4em; }
  </style>
</head>
<body>

<!-- Intro overlay (fixed) -->
<div id="intro">
  <p>Do you want to read the first one?</p>
  <p>No, I think you should read the first. I can read the second one.</p>
  <div class="scroll-cue">Scroll ↓ or click to continue</div>
</div>

<!-- Content is in the flow from the beginning so the page can scroll -->
<div id="scrolly">

  <section class="step">
    <div class="dispatch-row">
      <div class="dispatch-text">
        <p class="dispatch-number">(1)</p>
        <p>Somebody inquires: are you still a Marxist? Never before has the devastation caused by the pursuit of profit, as defined by capitalism, been more extensive than it is today. Almost everybody knows this. How then is it possible not to heed Marx, who prophesied and analysed the devastation? The answer might be that people, many people, have lost all their political bearings. Mapless, they do not know where they are heading.</p>
      </div>
      <div class="map-container">
        <img src="map.jpg" alt="Map image by Berger" />
      </div>
    </div>
  </section>

  <section class="step">
    <div class="fullwidth">
      <p class="dispatch-number">(2)</p>
      <p>Every day people follow signs pointing to some place that is not their home but a chosen destination. Road signs, airport embarkation signs, terminal signs. Some are making their journeys for pleasure, others for business, many out of loss or despair. On arrival they come to realise they are not in the place indicated by the signs they followed. Where they now find themselves has the correct latitude, longitude, local time, currency, yet it does not have the specific gravity of the destination they chose.</p>
      <p>They are beside the place they chose to come to. The distance that separates them from it is incalculable. Maybe it’s only the width of a thoroughfare, maybe it’s a world away. The place has lost what made it a destination. It has lost its territory of experience.</p>
      <p>Sometimes a few of these travellers undertake a private journey and find the place they wished to reach, which is often harsher than they foresaw, although they discover it with boundless relief. Many never make it. They accept the signs they follow and it’s as if they don’t travel, as if they always remain where they already are.</p>
    </div>
  </section>

</div>

<script src="https://unpkg.com/scrollama"></script>
<script>
  // Scrollama fade-in
  const scroller = scrollama();
  scroller
    .setup({ step: '.step', offset: 0.5 })
    .onStepEnter(res => {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('is-active'));
      res.element.classList.add('is-active');
    });
  window.addEventListener('resize', scroller.resize);

  // Intro removal: on first interaction OR when intro leaves view
  const intro = document.getElementById('intro');
  function hideIntro() {
    if (!intro) return;
    intro.classList.add('hidden');
    // remove from flow after fade
    setTimeout(() => { intro.style.display = 'none'; }, 550);
    // remove listeners after first run
    window.removeEventListener('wheel', hideIntroOnce, {passive:true});
    window.removeEventListener('touchstart', hideIntroOnce, {passive:true});
    window.removeEventListener('keydown', hideIntroOnce);
    intro.removeEventListener('click', hideIntro);
  }
  function hideIntroOnce() { hideIntro(); }

  // Hide on any of these:
  window.addEventListener('wheel', hideIntroOnce, {passive:true});
  window.addEventListener('touchstart', hideIntroOnce, {passive:true});
  window.addEventListener('keydown', hideIntroOnce);
  intro.addEventListener('click', hideIntro);

  // Also hide if user actually scrolls past it (in case of very tall screens)
  window.addEventListener('scroll', () => {
    const rect = intro.getBoundingClientRect();
    if (rect.bottom <= 0) hideIntro();
  });
</script>

</body>
</html>
